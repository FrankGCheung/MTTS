

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.1 语料库 &mdash; MTTS  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MTTS  documentation" href="../index.html"/>
        <link rel="up" title="第三章 中文语音合成系统的实现" href="index.html"/>
        <link rel="next" title="3.2 文本分析" href="text_analyse.html"/>
        <link rel="prev" title="第三章 中文语音合成系统的实现" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MTTS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">语音合成新手指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recent_advances.html">最新研究进展</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">第一章 绪论</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mtts_theory/index.html">第二章 语音合成理论研究</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">第三章 中文语音合成系统的实现</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.1 语料库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#king-tts-003">3.1.1 King_tts_003语料库</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">3.1.1.1 文本与标注</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><strong>声调的标记格式</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><strong>韵律的标记格式</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><strong>声韵母与停顿的标记格式</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>声韵标注的具体规则</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">3.1.1.2 音频</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alignment">3.1.2 语音文本对齐alignment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8"><strong>工具</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">3.1.3 语料库的获取</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10"><strong>中文语料库</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11"><strong>英文语料库</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="text_analyse.html">3.2 文本分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolkit.html">3.3 工具包简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="prosody_processing.html">3.4 韵律处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="audio_processing.html">3.5 语音学处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="hmm_training.html">3.6 HMM训练</a></li>
<li class="toctree-l2"><a class="reference internal" href="merlin.html">3.7 Merlin使用手册</a></li>
<li class="toctree-l2"><a class="reference internal" href="vocoder.html">3.8 声码器</a></li>
<li class="toctree-l2"><a class="reference internal" href="speech_synthesis.html">3.9 语音合成</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../voice_evaluation/index.html">第四章 合成语音质量的评估</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">第七章 附录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit.html">语音合成相关工具包</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">参考文献和资料</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MTTS</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">第三章 中文语音合成系统的实现</a> &raquo;</li>
        
      <li>3.1 语料库</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mtts_implement/corpus.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>3.1 语料库<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="king-tts-003">
<h2>3.1.1 King_tts_003语料库<a class="headerlink" href="#king-tts-003" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>3.1.1.1 文本与标注<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>语料库使用购买自海天瑞声公司的King_tts_003语料库，该语料库由专业的标准女播音员录制，总时长为15小时，近2万个句子。其中标注包括了拼音、韵律（韵律边界与重音）、音素发音时长、声韵母标注。语音文件以44.1 KHz，16bit，双音道，windows的无压缩PCM格式存储。除了此外，该语料库还提供了记录EGG（electroglottography）信号的音频。</p>
</div>
<div class="section" id="id3">
<h3><strong>声调的标记格式</strong><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>采用数字1、2、3、4、5,代替《汉语拼音方案》中声调阴平（ˉ），阳平（ˊ），上声（ˇ），去声（ˋ），轻声（不标调）这几个标调符号</p>
</div>
<div class="section" id="id4">
<h3><strong>韵律的标记格式</strong><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>韵律分成四级，分别用#4，#3，#2， #1表示。</p>
<dl class="docutils">
<dt>#4  ：</dt>
<dd>（1）一个完整语意的句子，切除前后可以独立成为一个句子，从听感上调形是完全降下来的，有明显的停顿。
（2）如果是以二声词结尾的短句，这个二声的词被拖长音，且与后面是转折的关系的，有明显的停顿。</dd>
<dt>#3  ：</dt>
<dd>通常标在一个韵律短语后面，有时会是一个词，从听感上调形是降下来的，但不够完全，不能独立成为一个语意完整的句子。</dd>
<dt>#2  ：</dt>
<dd>（1）表示被‘重读’的词或单个字(为了强调后面)，有停顿，调形上有小的变化, 有‘骤停’的感觉。 （对于单音节词如果是被‘拖长音’，给#1；如果是‘骤停’要给#2  ）
（2）并列关系的词如果被强调重读，给#2；如果是很平滑的，给#1。</dd>
<dt>#1  ：</dt>
<dd>只是韵律词的边界，通常没有停顿</dd>
</dl>
</div>
<div class="section" id="id5">
<h3><strong>声韵母与停顿的标记格式</strong><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>标注符号采用a，b，d，s四种标记符号进行标注，标注符号的意思如下：</dt>
<dd><ul class="first last simple">
<li>a表示中文汉字的声母。</li>
<li>b表示中文汉字的韵母。</li>
<li>d表示句中的静音长度小于100ms的停顿。</li>
<li>s表示句子的起始点和结束点以及句中大于100ms的停顿。</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="id6">
<h3><strong>声韵标注的具体规则</strong><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ol class="arabic simple">
<li>中文汉字拼音的声母用a表示，韵母用b表示。</li>
<li>其中有一些汉字音节以元音开头，称为零声母音节，如a/o/e/ang/eng/en/ai/ei/ao/ou/an/er/，我们用标记点a来进行标注。</li>
<li>其中有一些汉字是特殊读音，仅仅表示鼻子发出的气流，如m/n/ng/，分别对应汉字（呣，嗯，嗯），我们用标记点b来进行标注。</li>
<li>汉字发音为yu/yi/wu/的为整体认读音节，但我们此次把以w，y为声母加韵母的拼音按照声韵进行切分。</li>
</ol>
</div></blockquote>
<p>举一个例子</p>
<p>101001 我#1就怕#2自己的#1俗气#3亵渎了#2普者黑的#1风景</p>
<p>wo3 jiu4 pa4 zi4 ji3 de5 su2 qi4 xie4 du2 le5 pu2 zhe3 hei1 de5 feng1 jing3</p>
</div>
<div class="section" id="id7">
<h3>3.1.1.2 音频<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="alignment">
<h2>3.1.2 语音文本对齐alignment<a class="headerlink" href="#alignment" title="Permalink to this headline">¶</a></h2>
<p>这里主要参考文献[6]，这篇文章详细讲解了如何使用praat软件实现发音时长标注</p>
<p>我们通常需要知道每个音节/音素对应的wav片段以及持续时间是多少，给定一段文本，标注它在音频中的准确位置的任务就叫force-alignment，这里有 <a class="reference external" href="https://github.com/pettarin/forced-alignment-tools">forced-alignment-tools</a></p>
<p>从其中可知 <a class="reference external" href="https://www.readbeyond.it/aeneas/">aeneas</a> 是支持中文简体和繁体的alignment的</p>
<p>由此我们可以得到每个句子对应的发音时长标注文件，包括了句子中每个声韵母的发音时长以及每个停顿的发音时长。</p>
<div class="section" id="id8">
<h3><strong>工具</strong><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Festival-2.1可以用于语音的自动切分和标注</p>
<p>Praat，该款语音处理软件是一个跨平台且功能丰富的专业学习软件，许多做语音技 术研究的论文里面都能看到这款软件的使用，其重要的功能是实现采集、分析和标 注语音信号，并通过将语音的标注信息和对应的语音信号的波形进行对照，实现精 确的分层次的逐层标注，并能生成对应的包含时间戳信息的单音素标注文件和含上 下文信息的标注文本。</p>
</div>
</div>
<div class="section" id="id9">
<h2>3.1.3 语料库的获取<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id10">
<h3><strong>中文语料库</strong><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>目前网络上尚未有免费的语料库，需要自行构建语料库或者是购买公司或者大学的语料库。本文使用的语料库King_tts_003购买自海天瑞声公司</p>
</div>
<div class="section" id="id11">
<h3><strong>英文语料库</strong><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>下面摘自文献[5]</p>
<p>ARCTIC数据库是由卡内基梅隆大学（CMU）语言技术研究所开发的英文朗读语音数据库[51]。最初是用来训练基于单元挑选（Unit selection）的语音合成系统，后来成为基于HSS英文系统训练的通用数据库。该库包含1132句文本，选自文化作品数字化项目“古腾堡计划”中的两个英文短篇故事[52]。共有7名说话人参与录音，其中BDL、SLT、CLB和RMS四位说话人使用美式英语，其余三位是有加拿大、苏格兰及印度口音的英语母语说话人。为便于评测，本论文中的使用四位美式英语说话人的数据训练英文的声音模型。ARCTIC中另外一位说话人Roger也是美式英语，与其他人的数据独立发行，大量用于Blizzard Challenge测试中。ARCTIC数据库的上下文标注数据由开源语音合成系统Festival[53]的前端文本分析模块得到，使用由名古屋工业大学Tokuda实验室发布的以音素为单位的标准英文上下文标注格式。</p>
<p>CMU_ARCTIC speech synthesis system [OL] .http://festvox.org/cmu_arctic/index.html .2012</p>
<p>EMA数据库[54]是由南加州大学SAIL实验室开发的使用电磁设备记录发声器官数据的英文情感语音数据库。共包含2名女性（JN、LS）和1名男性（AB）美式英语母语说话人。录音文本共包含10句英文语料，每名说话人用每种情感将一句语料重复录制5次。然后通过一批测听人员对每条录音情感表现的打分，根据平均意见，决定哪些录音是有效的情感语音数据。这个数据库包含语音波形和同步录制的舌位动态信号，本身是用于研究情感语音的声学表现以及发声器官协同建模的小规模音库。在本文中，将用于学习中性语音到情感语音转换的声学参数变换规则。由于EMA只是用于进行声学分析，没有提供标注。因此，使用Festival的前端文本分析模块得到了与ARCTIC相同格式的英文上下文标注。</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="text_analyse.html" class="btn btn-neutral float-right" title="3.2 文本分析" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="第三章 中文语音合成系统的实现" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MTTS.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>