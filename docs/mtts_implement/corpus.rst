3.1 语料库
=================

3.1.1 King_tts_003语料库
-----------------------------

语料库使用购买自海天瑞声公司的King_tts_003语料库，该语料库由专业的标准女播音员录制，总时长为15小时，近2万个句子。其中标注包括了拼音、韵律（韵律边界与重音）、音素发音时长、声韵母标注。语音文件以44.1 KHz，16bit，双音道，windows的无压缩PCM格式存储。除了此外，该语料库还提供了记录EGG（electroglottography）信号的音频。

其中标记格式与含义为  
声调的标记格式  
采用数字1、2、3、4、5,代替《汉语拼音方案》中声调阴平（ˉ），阳平（ˊ），上声（ˇ），去声（ˋ），轻声（不标调）这几个标调符号  
   
**韵律的标记格式**
韵律分成四级，分别用#4，#3，#2， #1表示。   
#4  ：
（1）一个完整语意的句子，切除前后可以独立成为一个句子，从听感上调形是完全降下来的，有明显的停顿。   
（2）如果是以二声词结尾的短句，这个二声的词被拖长音，且与后面是转折的关系的，有明显的停顿。   
#3  ：
通常标在一个韵律短语后面，有时会是一个词，从听感上调形是降下来的，但不够完全，不能独立成为一个语意完整的句子。   
#2  ：
（1）表示被‘重读’的词或单个字(为了强调后面)，有停顿，调形上有小的变化, 有‘骤停’的感觉。 （对于单音节词如果是被‘拖长音’，给#1；如果是‘骤停’要给#2  ）
（2）并列关系的词如果被强调重读，给#2；如果是很平滑的，给#1。   
#1  ：
只是韵律词的边界，通常没有停  顿
   

**声韵母与停顿的标记格式**
标注符号采用a，b，d，s四种标记符号进行标注，标注符号的意思如下：
* a表示中文汉字的声母。
* b表示中文汉字的韵母。
* d表示句中的静音长度小于100ms的停顿。
* s表示句子的起始点和结束点以及句中大于100ms的停顿。

**声韵标注的具体规则**
1. 中文汉字拼音的声母用a表示，韵母用b表示。
2. 其中有一些汉字音节以元音开头，称为零声母音节，如a/o/e/ang/eng/en/ai/ei/ao/ou/an/er/，我们用标记点a来进行标注。
3. 其中有一些汉字是特殊读音，仅仅表示鼻子发出的气流，如m/n/ng/，分别对应汉字（呣，嗯，嗯），我们用标记点b来进行标注。
4. 汉字发音为yu/yi/wu/的为整体认读音节，但我们此次把以w，y为声母加韵母的拼音按照声韵进行切分。

举一个例子  
101001 我#1就怕#2自己的#1俗气#3亵渎了#2普者黑的#1风景  
wo3 jiu4 pa4 zi4 ji3 de5 su2 qi4 xie4 du2 le5 pu2 zhe3 hei1 de5 feng1 jing3  

### 3.1.2 语音文本对齐alignment&&音库标记&&音素的时长信息
我们通常需要知道每个音节/音素对应的wav片段以及持续时间是多少，给定一段文本，标注它在音频中的准确位置的任务就叫force-alignment，这里有[forced-alignment-tools](https://github.com/pettarin/forced-alignment-tools)  
从其中可知[aeneas](https://www.readbeyond.it/aeneas/) 是支持中文简体和繁体的alignment的

由此我们可以得到每个句子对应的发音时长标注文件，包括了句子中每个声韵母的发音时长以及每个停顿的发音时长。

**工具** 
Festival-2.1可以用于语音的自动切分和标注

### 3.1.3 语料库的获取
**中文语料库**
目前网络上尚未有免费的语料库，需要自行构建语料库或者是购买。本文使用的语料库King_tts_003购买自海天瑞声公司

**英文语料库**
* 卡内基梅隆大学的免费语料库CMU_ARCTIC
